<!DOCTYPE html>
<html>
  <body>
    <input type="file" id="upload-json" accept=".json" />
    <button id="update-ads">Update Ads</button>
    <script>
      document.getElementById("update-ads").onclick = () => {
        const fileInput = document.getElementById("upload-json");
        if (fileInput.files.length > 0) {
          const reader = new FileReader();
          reader.onload = () => {
            const ads = JSON.parse(reader.result);
            parent.postMessage(
              { pluginMessage: { type: "update-ads", ads } },
              "*"
            );
          };
          reader.readAsText(fileInput.files[0]);
        }
      };
    </script>
  </body>
</html>
